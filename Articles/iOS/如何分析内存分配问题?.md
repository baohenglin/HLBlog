## 内存分配分析

**OOM**（Out of Memory），指的是 App 占用的内存达到了 iOS 系统对单个 App 占用内存上限后，而被系统强杀掉的现象。这种崩溃，是由 iOS 的 **Jetsam 机制**（系统为了控制内存资源过度使用而采用的一种资源管控机制）导致的一种崩溃，并且无法通过日志捕捉到该崩溃信息。那么临近 OOM，该如何获取详细的内存分配信息，进而分析内存问题呢？

### 通过 JetsamEvent 日志计算内存限制值

可以查看设备中以 JetsamEvent 开头的系统日志。在 设置 -> 隐私 -> 分析，可以看到这些日志。

```
"pageSize" : 16384,
{
    "uuid" : "XXX",
    "states" : [
      "daemon"
    ],
    "killDelta" : 4897,
    "genCount" : 0,
    "age" : 3946284449881,
    "purgeable" : 4,
    "fds" : 50,
    "coalition" : 82,
    "rpages" : 1280,
    "reason" : "per-process-limit",
    "pid" : 59,
    "cpuTime" : 3456.6452140000001,
    "name" : "locationd",
    "lifetimeMax" : 1280
  },
```




