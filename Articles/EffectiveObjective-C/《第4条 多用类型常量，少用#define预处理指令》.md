## 第4条 多用类型常量，少用#define 预处理命令

编写代码时经常要定义常量。例如，要写一个 UI 视图类，此视图显示出来之后就播放动画，然后消失。你可能想把动画的时间提取为常量。如下所示：

```
#define ANIMATION_DURATION 0.3
```

上述预处理指令会把源代码中的 ANIMATION_DURATION 字符串替换为 0.3。不过，这样定义出来的常量没有类型信息。预处理过程会把碰到的所有 ANIMATION_DURATION 一律替换成 0.3，这样的话，假设此指令声明在某个头文件中，那么所有引入这个头文件的代码，其 ANIMATION_DURATION 都会被替换。

要想解决此问题，应该设法利用编译器的某些特性才对。有个办法比用预处理指令来定义常量更好。比如，下面这行代码就定义了一个类型为 NSTimeInterval 的常量：

```
static const NSTimeInterval kAnimationDuration = 0.3;
```

用此方式定义的常量包含类型信息，其好处是清楚地描述了常量的含义。由此可知该常量类型为 NSTimeInterval，这有助于为其编写开发文档。如果要定义许多常量，那么这种方式能令稍后阅读代码的开发者更易理解其意图。

还要注意常量名称。**常用的命名法是：若常量局限于某“编译单元”(translation unit)，也就是“实现文件”(implementation)之内，则在前面加字幕 k；若常量在类之外可见，则通常以类名为前缀。**第19条详解了命名习惯（naming convention）。
