## 第5条 用枚举表示状态、选项、状态码

**要点：**

* 应该用枚举来表示状态机的状态、传递给方法的选项以及状态码的值，给这些值起个易懂的名字。
* 如果把传递给某个方法的选项表示为枚举类型，而多个选项又可同时使用，那么就将各选项值定义为2的幂，以便通过“按位或”操作将其结合起来。
* 用 NS_ENUM 与 NS_OPTIONS 宏来定义枚举类型，并指明其底层数据类型。这样做可以确保枚举是用开发者所选的底层数据类型实现出来的，而不会采用编译器所选的类型。
* 在处理枚举类型的 switch 语句中不要实现 default 分支。这样的话，加入新枚举之后，编译器就会提示开发者“switch 语句并未处理所有枚举”。

由于 Objective-C 基于C语言，所以C语言的功能它都有。其中之一就是枚举类型：enum。系统框架中频繁用到此类型。枚举只是一种常量命名方式。某个对象所经历的各种状态就可以定义为一个简单的枚举集(enumeration set)。比如，可以用下列枚举表示“套接字连接”（socket connection）的状态：

```
enum EOCConnectionState {
  EOCConnectionStateDisconnected,
  EOCConnectionStateConnecting,
  EOCConnectionStateConnected,
};
```

由于每种状态都用一个便于理解的值来表示，所以这样写出来的代码更易读懂。编译器会为枚举分配一个独有的编号，从0开始，每个枚举递增1。实现枚举所用的数据类型取决于编译器，不过其二进制位（bit）的个数必须能完全表示下枚举编号才行。在前例中，由于最大编号是2，所以适用1个字节的 char 类型即可。

【注意】一个字节含8个二进制位，所以最多能表示可取256种（2^8个）枚举（编号为0~255）的枚举变量。
