## 对象等同性

### 要点：

* 若想检测对象的等同性，请提供“isEqual:”与hash 方法。
* 相同的对象必须具有相同的哈希码，但是两个哈希码相同的对象却未必相同。
* 不要盲目地逐个检测每条属性，而是应该依照具体需求来制定检测方案。
* 编写 hash 方法时，应该使用计算速度快而且哈希码碰撞机率低的算法。

根据“等同性”（equality）来比较对象是一个非常有用的功能。不过，按照 == 操作符比较出来的结果未必是我们想要的，因为该操作比较的是两个指针本身，而不是其所指的对象。应该使用 NSObject 协议中声明的“isEqual:”方法来判断两个对象的等同性。一般来说，两个类型不同的对象总是不相等的（unequal）。某些对象提供了特殊的“等同性判定方法”（equality-checking method），如果已经知道两个受测对象都属于同一个类，那么就可以使用这种方法。

以下述代码为例：

```
NSString *foo = @"Badger 123";
NSString *bar = [NSString stringWithFormat:@"Badger %i",123];
BOOL equalA = (foo == bar); //equalA = NO
BOOL equalB = [foo isEqual:bar];  //equalB = YES
BOOL equalC = [foo isEqualToString:bar];  //equalC = YES
```

我们可以看到"=="与等同性判断方法之间的差别。
